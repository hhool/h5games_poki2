/* ===== Added: About page footer alignment and layout fixes ===== */
/* Use the existing `.page-wrap` element used by the static pages */
.about-page .page-wrap {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}
.about-page .page-content {
  flex: 1 0 auto;
}
.about-page .site-footer {
  flex-shrink: 0;
  /* keep default full-bleed footer behavior but allow page-specific overrides further down */
  position:relative;
  left:50%;
  margin-left:-50vw;
  width:100vw;
}

/* ============================================================
   Poki2 — Static pages (About / Privacy / Terms)
   ============================================================ */

.page-wrap{
  max-width:780px;
  margin:0 auto;
  display:flex;flex-direction:column;
  /* Avoid relying on the measured footer height during initial render. */
  /* Use full viewport height; per-page padding reserves footer space via --footer-h. */
  min-height: 100dvh;

}

.page-header{
  /* Fixed header so it's identical between pages regardless of content height */
  display:flex;align-items:center;justify-content:space-between;
  padding:1px 20px;
  border-bottom:1px solid var(--surface-2);
  position:fixed;top:0;left:0;
  width:calc(100% - 2px);max-width:100%;
  background:rgba(255,255,255,.95);
  -webkit-backdrop-filter:saturate(180%) blur(12px);
  backdrop-filter:saturate(180%) blur(12px);
  z-index:1100;
  box-shadow:0 1px 0 rgba(0,0,0,0.04);
  height:var(--page-header-height,72px);
}
.page-logo{
  font-size:1.2rem;font-weight:700;color:var(--brand);
}
.page-nav{
  display:flex;gap:10px;
  overflow-x:auto; /* allow horizontal scroll when space is tight */
  -webkit-overflow-scrolling:touch;
  white-space:nowrap;
  padding-bottom:4px;
}
.page-nav a{
  padding:6px 14px;
  border-radius:20px;
  font-size:.85rem;font-weight:500;
  color:var(--text-muted);
  /* avoid transitioning color (non-composited) — animate opacity instead */
  transition: background-color .15s, opacity .15s;
  opacity:.96;
  flex:0 0 auto; /* prevent shrinking when container is narrow */
}
.page-nav a:hover{background:var(--surface-2);color:var(--text);opacity:1}
.page-nav a.active{background:var(--brand);color:#fff;font-weight:600}

/* ---- Content ---- */
.page-content{
  flex:1;
  padding:12px 24px 48px;
}
.page-content h1{
  font-size:1.8rem;font-weight:800;
  margin-bottom:8px;
  color:var(--text);
}
.page-content .last-updated{
  font-size:.85rem;color:var(--text-muted);
  margin-bottom:28px;
}
.page-content section{
  margin-bottom:28px;
}
.page-content h2{
  font-size:1.15rem;font-weight:700;
  margin-bottom:10px;
  color:var(--text);
}
.page-content h3{
  font-size:1rem;font-weight:600;
  margin:14px 0 6px;
  color:var(--text);
}
.page-content p{
  line-height:1.7;
  color:var(--text);
  margin-bottom:10px;
}
.page-content ul{
  padding-left:22px;
  margin-bottom:12px;
}
.page-content li{
  line-height:1.7;
  margin-bottom:4px;
  color:var(--text);
}
.page-content a{
  color:var(--brand);
  text-decoration:underline;
  text-underline-offset:2px;
  transition: opacity .15s;
  opacity:.98;
}
.page-content a:hover{color:var(--brand-dark);opacity:1}

/* ---- Footer ---- */
.page-footer{
  padding:20px 24px;
  border-top:1px solid var(--surface-2);
  text-align:center;
}
.page-footer .footer-links{
  display:flex;justify-content:center;gap:16px;align-items:center;flex-wrap:wrap;
  margin-bottom:8px;
}
.page-footer .footer-links a{
  font-size:.85rem;color:var(--text-muted);
  /* prefer opacity animation over color transition for compositing */
  transition: opacity .15s;white-space:nowrap;
  opacity:.95;
}
.page-footer .footer-links a:hover{color:var(--text);opacity:1}
.page-footer .footer-copy{
  font-size:.75rem;color:var(--text-muted);opacity:.6;
}

/* ---- Responsive ---- */
@media(max-width:600px){
  .page-header{padding:12px 16px}
  .page-content{padding:24px 16px 36px}
  .page-content h1{font-size:1.4rem}
  .page-nav a{padding:4px 8px;font-size:.8rem}
  /* Keep footer links horizontal but allow wrapping on small screens */
  .page-footer .footer-links{flex-direction:row;gap:8px;justify-content:center;flex-wrap:wrap}
}

/* ------------------------------------------------------------------
   Overflow & layout stability helpers
   - Prevent long words/URLs and media from breaking layout
   - Ensure page shell doesn't overflow horizontally
-------------------------------------------------------------------*/
html,body{box-sizing:border-box;min-height:100%}
*,*::before,*::after{box-sizing:inherit}
.page-wrap{padding-left:12px;padding-right:12px}
/* always show a vertical scrollbar gutter to avoid layout shift when pages differ in height */
html{overflow-y:scroll;scrollbar-gutter:stable}
/* ensure header spacing is consistent across pages */
body{padding-top:var(--page-header-height,72px)}
/* header height variables for different breakpoints */
:root{--page-header-height:72px}
@media(max-width:600px){:root{--page-header-height:64px}}
@media(max-width:420px){:root{--page-header-height:56px}}
/* Footer height used to reserve space in page content when footer is fixed */
:root{
    /* base footer height for static pages; start at 0 to avoid refresh jitter
      JS will measure the real footer and write --measured-footer. */
    --footer-base: 0px;
  /* measured footer height will be set from JS into --measured-footer (px). */
  --measured-footer: var(--footer-base);
  /* final footer reservation includes safe-area inset */
  --footer-h: calc(var(--measured-footer) + env(safe-area-inset-bottom, 0px));
}
.page-content{overflow-wrap:break-word;word-break:break-word;max-width:100%}
.page-content img,.page-content iframe,.page-content video{max-width:100%;height:auto;display:block}
.page-footer{flex-shrink:0}
/* small screens: reduce horizontal padding if content is tight */
@media(max-width:420px){
  .page-wrap{padding-left:10px;padding-right:10px}
  .page-content{padding-left:8px;padding-right:8px}
}

/* Contact page: make footer absolute at bottom of viewport when content is short */
body.contact-page{
  position:relative;
  min-height:100vh;
}
body.contact-page .site-footer{
  position:absolute;
  /* reset full-bleed offsets applied globally so footer starts at viewport left */
  left:0 !important;
  right:0 !important;
  bottom:0;
  width:100% !important;
  margin-left:0 !important;
  margin-right:0 !important;
  transform:none !important;
  box-sizing:border-box;
}
body.contact-page .content,
body.contact-page .page-content{
  /* ensure content doesn't get hidden behind absolute footer */
  padding-bottom:160px;
}

/* About page: footer absolute and centered to page width */
body.about-page{position:relative;min-height:100vh}
/* Ensure the page-wrap isn't interfering with footer positioning */
body.about-page .page-wrap{position:static !important}
/* Make informational pages use the same full-bleed footer behavior as the index
   so the footer sits flush with the viewport bottom with zero gap and consistent
   height/style. Reserve content space using --footer-h. */
body.about-page .site-footer,
body.privacy-page .site-footer,
body.terms-page .site-footer,
body.dmca-page .site-footer,
body.contact-page .site-footer {
  position:fixed !important;
  left:0 !important;
  right:0 !important;
  bottom:0 !important;
  width:100% !important;
  margin-left:0 !important;
  margin-right:0 !important;
  transform:none !important;
  box-sizing:border-box !important;
  border-radius:0 !important;
  z-index:1200 !important;
  /* match index footer padding so visual spacing is identical */
  padding: 20px 18px;
  padding-bottom: calc(20px + env(safe-area-inset-bottom, 0px));
}
/* Reserve space in page content so it doesn't overlap the fixed footer */
body.about-page .page-content,
body.privacy-page .page-content,
body.terms-page .page-content,
body.dmca-page .page-content,
body.contact-page .page-content {
  padding-bottom: var(--footer-h) !important;
}
/* make footer inner content align with page-wrap width */
body.about-page .site-footer .footer-inner{
  max-width:780px;
  margin-left:auto;
  margin-right:auto;
  padding-left:12px;
  padding-right:12px;
}

/* Ensure footer inner width is consistent across informational pages */
body.about-page .site-footer .footer-inner,
body.contact-page .site-footer .footer-inner,
body.privacy-page .site-footer .footer-inner,
body.terms-page .site-footer .footer-inner,
body.dmca-page .site-footer .footer-inner,
body.static-page .site-footer .footer-inner {
  max-width:780px;
  margin-left:auto;
  margin-right:auto;
  padding-left:12px;
  padding-right:12px;
}

/* Semantic helper: pages that are static informational pages
   Should add `static-page` to the <body> (e.g. <body class="static-page">)
   This mirrors the previous `full-bleed-footer` behavior but is more semantic. */
/* Keep a deprecated alias for compatibility */
body.static-page,
body.full-bleed-footer {
  position:relative;
  /* Use dynamic viewport units on modern Android Chrome to account for URL/toolbar
     chrome changes; keep 100vh as a fallback for older browsers. */
  min-height:100vh;
  min-height:100dvh;
}
body.static-page .page-wrap,
body.full-bleed-footer .page-wrap{position:static !important}
/* Pin the footer to the viewport bottom for all non-static pages (index/category views).
   This keeps the footer visually fixed like the title/search bar and prevents it
   from jumping when content sections change. Static informational pages keep
   the footer in normal flow. */
body:not(.static-page) .site-footer{
  position:fixed !important;
  left:0 !important;
  right:0 !important;
  bottom:0 !important;
  /* ensure pinned footers use the same padding as the index footer */
  padding: 20px 18px;
  padding-bottom: calc(20px + env(safe-area-inset-bottom, 0px));
  margin-left:0 !important;
  margin-right:0 !important;
  width:100% !important;
  box-sizing:border-box !important;
  border-radius:0 !important;
  transform:none !important;
  z-index:1200 !important;
}

/* For informational/static pages, place the footer after content (absolute at viewport bottom)
   so it does not overlap page content and behaves like a normal document footer. */
/* Keep footer in normal document flow for informational/static pages
   so it always appears directly after content and cannot overlap it. */
body.static-page .site-footer{
  position:static !important;
  left:auto !important;
  right:auto !important;
  bottom:auto !important;
  padding-bottom: env(safe-area-inset-bottom, 0px);
  margin-left:0 !important;
  margin-right:0 !important;
  width:100% !important;
  box-sizing:border-box !important;
  border-radius:0 !important;
  transform:none !important;
  z-index:1000 !important;
}
/* Reserve space for fixed footer using CSS variable so content isn't hidden */
/* Reserve space for fixed footer using CSS variable so content isn't hidden.
  Apply padding for static pages (footer in-flow) and for any non-static pages
  where the footer is pinned. */
body.static-page .page-content,
body:not(.static-page) .page-content{padding-bottom:var(--footer-h)}
body.static-page .site-footer .footer-inner,
body.full-bleed-footer .site-footer .footer-inner{
  max-width:780px;
  margin-left:auto;
  margin-right:auto;
  padding-left:12px;
  padding-right:12px;
}

/* Consent banner — improved visual treatment
   - Sits above the footer and pushes page content by setting a CSS var
   - Responsive layout with clear actions and accessible contrast
*/
.consent-banner{
  position:fixed;
  left:16px;
  right:16px;
  /* Position the consent banner above the footer when the footer is fixed */
  bottom: calc(var(--footer-h) + 16px);
  /* Raise above game overlay (z-index 1400) so buttons are clickable */
  z-index:1600;
  display:flex;
  align-items:center;
  gap:16px;
  padding:14px 18px;
  background:linear-gradient(180deg,#ffffff, #fbfdff);
  border-radius:12px;
  border:1px solid rgba(15,23,42,0.06);
  box-shadow:0 8px 30px rgba(12,20,40,0.12);
  font-size:.95rem;color:var(--text);
  max-width:1100px;
  margin:0 auto;
}
.consent-banner .consent-body{flex:1;min-width:0}
.consent-banner p{margin:0;line-height:1.45;color:var(--text-muted)}
.consent-banner p strong{color:var(--text)}
.consent-banner a{color:var(--brand);text-decoration:underline}
.consent-banner .consent-actions{display:flex;gap:10px;margin-left:12px}
.consent-banner button{border:0;padding:8px 14px;border-radius:10px;font-weight:700;cursor:pointer}
.consent-accept{background:var(--brand);color:#fff;box-shadow:0 6px 14px rgba(31,111,235,0.18)}
.consent-decline{background:transparent;border:1px solid rgba(15,23,42,0.06);color:var(--text)}

/* When consent banner is visible we add bottom padding to the page to avoid overlap */
/* Hide consent banner during initial render to avoid being chosen as LCP */
.consent-banner{opacity:0;visibility:hidden;transform:translateY(10px);transition:opacity .25s ease,transform .25s ease,visibility .25s}

/* When we mark the page ready, show the consent banner */
body.consent-ready .consent-banner{opacity:1;visibility:visible;transform:none}

/* When consent banner is visible we add bottom padding to the page to avoid overlap */
body.consent-visible{padding-bottom:calc(var(--consent-height,96px) + 24px)}

/* For static/informational pages we should not add body-level bottom padding
   because the footer is fixed and body padding creates a visual gap below
   the content. Instead, add the consent height to the page content padding so
   content sits above both the fixed footer and the consent banner. */
body.static-page.consent-visible,
body.about-page.consent-visible,
body.privacy-page.consent-visible,
body.terms-page.consent-visible,
body.dmca-page.consent-visible,
body.contact-page.consent-visible {
  padding-bottom: 0 !important;
}

body.static-page.consent-visible .page-content,
body.about-page.consent-visible .page-content,
body.privacy-page.consent-visible .page-content,
body.terms-page.consent-visible .page-content,
body.dmca-page.consent-visible .page-content,
body.contact-page.consent-visible .page-content {
  padding-bottom: calc(var(--footer-h) + var(--consent-height,96px)) !important;
}

@media(max-width:720px){
  .consent-banner{left:12px;right:12px;flex-direction:column;align-items:stretch;gap:10px;padding:12px}
  .consent-banner .consent-actions{justify-content:flex-end}
  .consent-banner button{width:48%;}
}

/* Ad placeholder and fallback styles */
.ad-slot{display:block;max-width:100%;margin:18px auto;text-align:center}
.ad-placeholder{display:flex;align-items:center;justify-content:center;gap:10px;padding:12px;border-radius:8px;border:1px dashed rgba(0,0,0,0.06);background:linear-gradient(180deg,#fff,#fbfdff)}
.ad-placeholder-inner{font-weight:600;color:var(--text-muted)}
.ad-placeholder-accept{margin-left:12px;padding:6px 10px;border-radius:8px;border:0;background:var(--brand);color:#fff;cursor:pointer}
.ad-fallback{padding:12px;border-radius:8px;background:linear-gradient(180deg,#f8f9fb,#ffffff);border:1px solid rgba(0,0,0,0.03);color:var(--text-muted)}
.ad-collapsed{display:none!important;height:6px!important;margin:0!important;min-height:0!important;overflow:hidden!important;padding:0!important}


/* Spacer used to reserve space on short category pages so footer sits flush */
.page-spacer{display:block;width:100%;height:0;pointer-events:none;background:transparent}

/* Keep footer height stable during dynamic view swaps to avoid visual "shrinking" */
.site-footer{
  transition: none !important;
  -webkit-transition: none !important;
  /* Reserve a minimum height from measured value so layout doesn't jump while JS re-measures */
  min-height: var(--measured-footer, 0px);
}
.site-footer .footer-inner{
  min-height: var(--measured-footer, 0px);
}

/* Hide footer until positioned (used on home and during view swaps) */
body.footer-hidden .site-footer{visibility:hidden !important;opacity:0 !important;pointer-events:none}

/* Informational pages (About/Privacy/Terms/Contact/DMCA) should use the
   same footer styling and fixed behavior as the index/category views so
   the footer remains visually consistent and pinned. Reserve content
   space using the measured footer variable. */
body.about-page .page-content,
body.privacy-page .page-content,
body.terms-page .page-content,
body.dmca-page .page-content,
body.contact-page .page-content,
body.static-page .page-content {
  padding-bottom: var(--footer-h) !important;
}


