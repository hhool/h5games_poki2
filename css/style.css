/* ============================================================
   Poki2 â€” Poki-style game portal
   ============================================================ */

/* ---------- Reset & Variables ---------- */
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}

:root{
  /* brand */
  --brand:        #009cff;
  --brand-dark:   #007acc;
  --brand-light:  #e0f3ff;

  /* surfaces */
  --bg:           #f0f2f5;
  --surface:      #ffffff;
  --surface-2:    #eaecf0;

  /* text */
  --text:         #1e1e2e;
  --text-muted:   #6e7781;

  /* sidebar */
  --sidebar-bg:   #002b49;
  --sidebar-text: #c4d6e8;
  --sidebar-hover:#003d66;
  --sidebar-active:#009cff;
  --sidebar-w:    220px;

  /* topbar */
  --topbar-h:     56px;

  /* card */
  --card-radius:  12px;

  /* transitions */
  --ease:         cubic-bezier(.4,0,.2,1);

  /* overlay */
  --overlay-bar-h: 48px;
}

html{font-size:16px;scroll-behavior:smooth}
body{
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  color:var(--text);
  background:var(--bg);
  overflow-x:hidden;
  min-height:100dvh;
}
a{color:inherit;text-decoration:none}
button{cursor:pointer;border:none;background:none;font:inherit;color:inherit}
img{display:block;max-width:100%}
input{font:inherit}

/* ---------- Sidebar ---------- */
.sidebar{
  position:fixed;inset:0 auto 0 0;
  width:var(--sidebar-w);
  background:var(--sidebar-bg);
  color:var(--sidebar-text);
  display:flex;flex-direction:column;
  z-index:900;
  transform:translateX(0);
  transition:transform .3s var(--ease);
  overflow-y:auto;
  overscroll-behavior:contain;
}
.sidebar-header{
  padding:16px 20px;
  display:flex;align-items:center;gap:10px;
}
.sidebar-logo{
  display:flex;align-items:center;gap:8px;
  font-size:1.3rem;font-weight:700;color:#fff;
}
.logo-icon{font-size:1.5rem}

.sidebar-nav{flex:1;padding:8px 0}
.sidebar-nav .nav-item{
  display:flex;align-items:center;gap:10px;
  padding:10px 20px;
  font-size:.9rem;
  border-radius:0 24px 24px 0;
  margin-right:12px;
  transition:background .15s, color .15s;
  cursor:pointer;
}
.sidebar-nav .nav-item .nav-emoji{font-size:1.15rem;min-width:24px;text-align:center}
.sidebar-nav .nav-item:hover{background:var(--sidebar-hover);color:#fff}
.sidebar-nav .nav-item.active{background:var(--brand);color:#fff;font-weight:600}

.sidebar-footer{
  padding:14px 20px;
  font-size:.75rem;
  display:flex;gap:12px;
  border-top:1px solid rgba(255,255,255,.1);
}
.sidebar-footer a:hover{color:#fff}

.sidebar-overlay{
  position:fixed;inset:0;
  background:rgba(0,0,0,.45);
  z-index:899;
  opacity:0;pointer-events:none;
  transition:opacity .3s var(--ease);
}
.sidebar-overlay.show{opacity:1;pointer-events:auto}

/* ---------- Main wrapper ---------- */
.main-wrap{
  margin-left:var(--sidebar-w);
  min-height:100dvh;
  display:flex;
  flex-direction:column;
  transition:margin-left .3s var(--ease);
}

/* ---------- Topbar ---------- */
.topbar{
  position:sticky;top:0;
  height:var(--topbar-h);
  background:var(--surface);
  display:flex;align-items:center;gap:12px;
  padding:0 20px;
  box-shadow:0 1px 3px rgba(0,0,0,.08);
  z-index:800;
}
.topbar-logo{
  font-size:1.15rem;font-weight:700;color:var(--brand);
  display:none;           /* visible only on mobile */
}
.menu-btn{
  display:none;           /* visible only on mobile */
  padding:6px;
  border-radius:8px;
}
.menu-btn:hover{background:var(--surface-2)}

.search-wrap{
  flex:1;max-width:420px;
  position:relative;
}
.search-icon{
  position:absolute;left:12px;top:50%;transform:translateY(-50%);
  color:var(--text-muted);
  pointer-events:none;
}
.search-input{
  width:100%;
  padding:9px 14px 9px 40px;
  border:2px solid var(--surface-2);
  border-radius:24px;
  outline:none;
  background:var(--bg);
  transition:border-color .2s;
}
.search-input:focus{border-color:var(--brand)}

/* ---- Shuffle button ---- */
.shuffle-btn{
  display:flex;align-items:center;justify-content:center;
  width:38px;height:38px;
  border-radius:50%;
  color:var(--text-muted);
  transition:background .15s, color .15s, transform .3s;
  flex-shrink:0;
}
.shuffle-btn:hover{background:var(--brand-light);color:var(--brand)}
.shuffle-btn:active{transform:rotate(180deg)}

/* ---------- Hero ---------- */
.hero{
  background:linear-gradient(135deg,#009cff 0%,#6c3bff 100%);
  color:#fff;
  padding:48px 28px 40px;
  border-radius:0 0 20px 20px;
  text-align:center;
}
.hero-title{font-size:1.8rem;font-weight:800;margin-bottom:8px}
.hero-sub{font-size:1rem;opacity:.85;margin-bottom:18px}

/* Hero featured games row */
.hero-featured{
  display:flex;gap:12px;justify-content:center;flex-wrap:wrap;
  margin-top:8px;
}
.hero-card{
  width:90px;height:90px;
  border-radius:14px;overflow:hidden;
  cursor:pointer;
  transition:transform .2s var(--ease), box-shadow .2s var(--ease);
  box-shadow:0 4px 16px rgba(0,0,0,.25);
  flex-shrink:0;
}
.hero-card:hover{transform:scale(1.1);box-shadow:0 6px 24px rgba(0,0,0,.35)}
.hero-card img{width:100%;height:100%;object-fit:cover}

/* ---- Recently Played ---- */
.recently-played .clear-recent{
  font-size:.8rem;color:var(--text-muted);
  padding:4px 10px;border-radius:14px;
  transition:background .15s, color .15s;
}
.recently-played .clear-recent:hover{background:var(--surface-2);color:var(--text)}

/* ---------- Content ---------- */
.content{
  padding:0;
  flex:1;
  display:flex;
  flex-direction:column;
}

/* ---- Section ---- */
.category-section{
  padding:24px 20px 8px;
}
.section-header{
  display:flex;align-items:center;justify-content:space-between;
  margin-bottom:14px;
}
.section-title{
  font-size:1.15rem;font-weight:700;
  display:flex;align-items:center;gap:8px;
}
.section-title .emoji{font-size:1.2rem}
.see-all{
  font-size:.85rem;font-weight:600;color:var(--brand);
  padding:4px 10px;border-radius:16px;
  transition:background .15s;
}
.see-all:hover{background:var(--brand-light)}

/* ---- Sidebar badge ---- */
.nav-badge{
  margin-left:auto;
  font-size:.7rem;font-weight:600;
  background:rgba(255,255,255,.12);
  color:var(--sidebar-text);
  padding:2px 7px;border-radius:10px;
  min-width:22px;text-align:center;
}
.nav-item.active .nav-badge{background:rgba(255,255,255,.25);color:#fff}

/* ---- Game grid ---- */
.game-grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(130px,1fr));
  gap:12px;
}

.game-card{
  position:relative;
  border-radius:var(--card-radius);
  overflow:hidden;
  background:var(--surface);
  box-shadow:0 2px 8px rgba(0,0,0,.06);
  cursor:pointer;
  transition:transform .2s var(--ease), box-shadow .2s var(--ease);
}
.game-card:hover{
  transform:translateY(-4px);
  box-shadow:0 8px 24px rgba(0,0,0,.12);
}
.game-card-img{
  width:100%;
  aspect-ratio:4 / 3;
  object-fit:cover;
  background:var(--surface-2);
}
.game-card-info{
  padding:8px 10px;
}
.game-card-title{
  font-size:.82rem;font-weight:600;
  white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
}

/* ---- Full category page (all games of one tag) ---- */
.full-grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(150px,1fr));
  gap:16px;
  padding:0 20px 30px;
}

/* ---------- Search results ---------- */
.search-results{padding:20px}

/* ---- Empty state ---- */
.empty-state{
  text-align:center;padding:60px 20px;
}
.empty-icon{font-size:3rem;margin-bottom:12px}
.empty-text{color:var(--text-muted);font-size:1rem}

/* ---------- Footer ---------- */
.site-footer{
  background:var(--sidebar-bg);
  color:var(--sidebar-text);
  padding:28px 20px;
  margin-top:auto;
  border-radius:20px 20px 0 0;
}
.footer-inner{
  max-width:800px;margin:auto;text-align:center;
}
.footer-brand{font-size:1.1rem;font-weight:700;color:#fff;margin-bottom:10px}
.footer-links{display:flex;justify-content:center;gap:16px;margin-bottom:10px}
.footer-links a{font-size:.85rem;transition:color .15s}
.footer-links a:hover{color:#fff}
.footer-copy{font-size:.75rem;opacity:.6}

/* ---------- Game overlay ---------- */
.game-overlay{
  position:fixed;inset:0;
  z-index:1000;
  background:#000;
  display:flex;flex-direction:column;
  transform:translateY(100%);
  transition:transform .35s var(--ease);
}
.game-overlay.open{transform:translateY(0)}
.game-overlay-bar{
  position:absolute;top:0;left:0;right:0;
  height:var(--overlay-bar-h);
  background:linear-gradient(180deg, rgba(0,0,0,.85) 0%, rgba(0,0,0,.4) 70%, transparent 100%);
  display:flex;align-items:center;
  padding:0 12px;gap:10px;
  z-index:20;
  transition:opacity .3s ease, transform .3s ease;
}
.game-overlay-bar.bar-hidden{
  opacity:0;
  transform:translateY(-100%);
  pointer-events:none;
}
/* Invisible trigger zone at top to bring bar back */
.bar-trigger{
  position:absolute;top:0;left:0;right:0;
  height:60px;
  z-index:15;
}
.overlay-back{
  display:flex;align-items:center;gap:4px;
  color:#ccc;font-size:.85rem;padding:4px 8px;border-radius:8px;
}
.overlay-back:hover{background:rgba(255,255,255,.1);color:#fff}
.overlay-title{
  flex:1;color:#fff;font-size:.9rem;font-weight:600;
  white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
}
.overlay-fullscreen{
  color:#ccc;padding:4px;border-radius:8px;
}
.overlay-fullscreen:hover{background:rgba(255,255,255,.1);color:#fff}
.game-iframe{
  position:absolute;inset:0;
  border:none;width:100%;height:100%;background:#000;
}

/* ---------- Loading overlay ---------- */
.game-loading-overlay{
  display:none;
  position:absolute;inset:0;
  z-index:5;
  background:#000;
  align-items:center;justify-content:center;
  flex-direction:column;
}
.game-loading-overlay.show{
  display:flex;
}
.loading-content{
  text-align:center;
  width:min(320px, 80vw);
}
.loading-game-icon{
  width:72px;height:72px;
  margin:0 auto 14px;
  border-radius:16px;
  background:#222;
  overflow:hidden;
}
.loading-game-icon img{
  width:100%;height:100%;object-fit:cover;
}
.loading-game-title{
  color:#fff;
  font-size:1rem;
  font-weight:600;
  margin-bottom:20px;
  white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
}
.loading-bar-track{
  width:100%;
  height:6px;
  background:rgba(255,255,255,.12);
  border-radius:3px;
  overflow:hidden;
}
.loading-bar-fill{
  width:0%;
  height:100%;
  background:var(--brand);
  border-radius:3px;
  transition:width .3s ease;
}
.loading-percent{
  color:#aaa;
  font-size:.8rem;
  margin-top:10px;
}

/* ---------- Orientation hint ---------- */
.orient-hint{
  display:none;
  position:absolute;inset:0;
  z-index:6;
  background:rgba(0,0,0,.92);
  backdrop-filter:blur(6px);
  -webkit-backdrop-filter:blur(6px);
  align-items:center;justify-content:center;
  flex-direction:column;
}
.orient-hint.show{
  display:flex;
}
.orient-hint-inner{
  text-align:center;
  padding:24px;
}
.orient-hint-phone{
  margin:0 auto 20px;
  width:60px;height:100px;
  animation:orientRotate 2.5s ease-in-out infinite;
  transform-origin:center center;
}
.orient-hint.landscape .orient-hint-phone{
  animation-name:orientToLandscape;
}
.orient-hint.portrait .orient-hint-phone{
  animation-name:orientToPortrait;
}
.orient-hint-text{
  color:#fff;
  font-size:1.1rem;
  font-weight:600;
  margin-bottom:24px;
  line-height:1.4;
}
.orient-rotate-btn{
  display:block;
  width:220px;
  margin:0 auto 12px;
  padding:14px 24px;
  font-size:1rem;
  font-weight:700;
  border:none;
  border-radius:12px;
  background:var(--brand);
  color:#fff;
  cursor:pointer;
  transition:background .2s, transform .15s;
}
.orient-rotate-btn:hover{
  background:var(--brand-dark);
  transform:scale(1.04);
}
.orient-rotate-btn:active{
  transform:scale(.97);
}
.orient-skip-btn{
  display:block;
  width:220px;
  margin:0 auto;
  padding:10px 24px;
  font-size:.85rem;
  font-weight:500;
  border:none;
  border-radius:12px;
  background:transparent;
  color:rgba(255,255,255,.5);
  cursor:pointer;
  transition:color .2s;
}
.orient-skip-btn:hover{
  color:#fff;
}
@keyframes orientToLandscape{
  0%,15%{transform:rotate(0deg)}
  35%,65%{transform:rotate(90deg)}
  85%,100%{transform:rotate(0deg)}
}
@keyframes orientToPortrait{
  0%,15%{transform:rotate(90deg)}
  35%,65%{transform:rotate(0deg)}
  85%,100%{transform:rotate(90deg)}
}

/* ---------- Pause overlay ---------- */
.game-pause-overlay{
  display:none;
  position:absolute;inset:0;
  z-index:10;
  background:rgba(0,0,0,.85);
  backdrop-filter:blur(6px);
  -webkit-backdrop-filter:blur(6px);
  align-items:center;justify-content:center;
  flex-direction:column;
}
.game-pause-overlay.show{
  display:flex;
}
.pause-content{
  text-align:center;
  color:#fff;
  animation:pauseFadeIn .3s ease;
}
.pause-icon{
  font-size:64px;
  margin-bottom:12px;
}
.pause-title{
  font-size:1.8rem;
  font-weight:700;
  margin-bottom:6px;
}
.pause-sub{
  font-size:.95rem;
  color:#aaa;
  margin-bottom:28px;
}
.pause-resume-btn{
  display:block;
  width:220px;
  margin:0 auto 12px;
  padding:14px 24px;
  font-size:1.05rem;
  font-weight:700;
  border:none;
  border-radius:12px;
  background:var(--brand);
  color:#fff;
  cursor:pointer;
  transition:background .2s, transform .15s;
}
.pause-resume-btn:hover{
  background:var(--brand-dark);
  transform:scale(1.04);
}
.pause-quit-btn{
  display:block;
  width:220px;
  margin:0 auto;
  padding:10px 24px;
  font-size:.9rem;
  font-weight:600;
  border:2px solid rgba(255,255,255,.25);
  border-radius:12px;
  background:transparent;
  color:#ccc;
  cursor:pointer;
  transition:background .2s, border-color .2s;
}
.pause-quit-btn:hover{
  background:rgba(255,255,255,.08);
  border-color:rgba(255,255,255,.5);
  color:#fff;
}
@keyframes pauseFadeIn{
  from{opacity:0;transform:scale(.92)}
  to{opacity:1;transform:scale(1)}
}

/* ---------- Skeleton loading ---------- */
.skeleton{
  background:linear-gradient(90deg,var(--surface-2) 25%,#f3f3f3 37%,var(--surface-2) 63%);
  background-size:200% 100%;
  animation:shimmer 1.4s infinite ease-in-out;
  border-radius:var(--card-radius);
}
.skeleton-card{aspect-ratio:4/3}
.skeleton-text{display:inline-block;border-radius:6px}
@keyframes shimmer{0%{background-position:200% 0}100%{background-position:-200% 0}}

/* ---------- Back to top ---------- */
.back-to-top{
  position:fixed;bottom:24px;right:24px;
  width:44px;height:44px;
  border-radius:50%;
  background:var(--brand);color:#fff;
  display:flex;align-items:center;justify-content:center;
  box-shadow:0 4px 14px rgba(0,156,255,.35);
  opacity:0;pointer-events:none;
  transform:translateY(12px);
  transition:opacity .25s, transform .25s;
  z-index:850;
}
.back-to-top.show{opacity:1;pointer-events:auto;transform:translateY(0)}
.back-to-top:hover{background:var(--brand-dark)}

/* ---------- Game detail interstitial ---------- */
.game-detail{
  position:fixed;inset:0;
  z-index:950;
  display:flex;align-items:center;justify-content:center;
  opacity:0;pointer-events:none;
  transition:opacity .25s var(--ease);
}
.game-detail.open{opacity:1;pointer-events:auto}
.detail-backdrop{
  position:absolute;inset:0;
  background:rgba(0,0,0,.55);
}
.detail-card{
  position:relative;
  background:var(--surface);
  border-radius:20px;
  overflow:hidden;
  width:340px;max-width:90vw;
  box-shadow:0 16px 48px rgba(0,0,0,.25);
  transform:scale(.92);
  transition:transform .3s var(--ease);
}
.game-detail.open .detail-card{transform:scale(1)}
.detail-img{
  width:100%;aspect-ratio:1/1;object-fit:cover;
  background:var(--surface-2);
}
.detail-body{padding:18px 20px 22px;text-align:center}
.detail-title{font-size:1.2rem;font-weight:700;margin-bottom:8px}
.detail-tags{
  display:flex;gap:6px;justify-content:center;flex-wrap:wrap;
  margin-bottom:16px;
}
.detail-tag{
  font-size:.75rem;font-weight:600;
  padding:3px 10px;border-radius:12px;
  background:var(--brand-light);color:var(--brand-dark);
}
.detail-play-btn{
  display:inline-flex;align-items:center;gap:6px;
  padding:12px 36px;
  border-radius:28px;
  background:var(--brand);color:#fff;
  font-size:1rem;font-weight:700;
  box-shadow:0 4px 16px rgba(0,156,255,.3);
  transition:background .15s, transform .15s;
}
.detail-play-btn:hover{background:var(--brand-dark);transform:scale(1.04)}
.detail-close{
  position:absolute;top:10px;right:10px;
  width:32px;height:32px;border-radius:50%;
  background:rgba(0,0,0,.4);color:#fff;
  font-size:1rem;
  display:flex;align-items:center;justify-content:center;
  transition:background .15s;
}
.detail-close:hover{background:rgba(0,0,0,.6)}

/* ---------- Responsive ---------- */
@media(max-width:900px){
  .sidebar{transform:translateX(-100%)}
  .sidebar.open{transform:translateX(0)}
  .main-wrap{margin-left:0}
  .menu-btn{display:flex}
  .topbar-logo{display:block}
  .hero{padding:36px 20px 30px}
  .hero-title{font-size:1.4rem}
  .hero-card{width:72px;height:72px;border-radius:10px}
}
@media(max-width:600px){
  .game-grid{grid-template-columns:repeat(3,1fr);gap:8px}
  .game-card-info{padding:5px 6px}
  .game-card-title{font-size:.72rem}
  .hero{padding:28px 14px 22px}
  .hero-title{font-size:1.15rem}
  .hero-sub{font-size:.85rem;margin-bottom:12px}
  .hero-featured{gap:8px}
  .hero-card{width:56px;height:56px;border-radius:10px}
  .category-section{padding:14px 10px 4px}
  .section-title{font-size:1rem}
  .see-all{font-size:.75rem;padding:3px 8px}
  .search-input{padding:7px 12px 7px 36px;font-size:.85rem}
}
